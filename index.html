<!DOCTYPE html>

<html lang="zh">
<head>
<meta charset="utf-8"/>
<meta content="GPT Plus 官方 iOS 通道代充，¥188/月，微信直充，5 分钟自动到帐" name="description"/>
<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"/>
<title>GPT Plus 充值平台</title>
<!-- 简单的 CSS，只依赖系统字体 -->
<style>
    :root {
      /* 高级感配色方案 - 深蓝紫 + 金色 + 浅灰白 */
      --primary: #1a1b3a;           /* 深蓝紫主色 */
      --primary-dark: #0f1024;      /* 深蓝紫深色 */
      --accent: #d4af37;            /* 金色强调色 */
      --accent-dark: #b8941f;       /* 金色深色 */
      --neutral: #f8f9fa;           /* 浅灰白中性色 */
      --neutral-dark: #e9ecef;      /* 浅灰白深色 */
      --radius: 22px;

      /* Brand (深蓝紫) */
      --brand-500: #1a1b3a;         /* 主色 */
      --brand-600: #0f1024;         /* hover/强调 */
      --brand-glass: rgba(26,27,58,.16); /* 玻璃条/轻底 */

      /* Accent (金色) */
      --accent-500: #d4af37;
      --accent-600: #b8941f;

      /* Neutral */
      --overlay: #0a0b1a;                    /* 深蓝紫弹窗/底栏背景 */
      --surface-glass: rgba(212,175,55,.10); /* 金色玻璃描边 */
      --white-85: rgba(248,249,250,.85);     /* 浅灰白填充 */
      --text-strong: #ffffff;
      --text-muted: rgba(255,255,255,.88);
    }

    /* 背景渐变 & 全局排版 */
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", "Helvetica Neue", Arial, "Noto Sans", sans-serif;
      background: linear-gradient(135deg, #1a1b3a 0%, #0f1024 50%, #2a1b3a 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      -webkit-text-size-adjust: 100%;
      -webkit-tap-highlight-color: transparent;
    }

    /* 中心卡片 */
    .card {
      width: 100%;
      max-width: 620px;
      background: rgba(248, 249, 250, 0.12);
      border-radius: var(--radius);
      box-shadow: 0 6px 36px rgba(0, 0, 0, 0.15);
      backdrop-filter: blur(24px);
      overflow: hidden;
    }

    /* 卡片 – 顶部彩条、标题、徽章 */
    .card-header {
      padding: 48px 40px 32px;
      text-align: center;
    }
    .card-header h1 {  margin-bottom:6px;
      font-size: 1.8rem;
      margin: 0 0 8px;
      font-weight: 700;
    }
    .badges {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 12px;
    }
      .badge {
    padding: 4px 8px;
    font-size: 0.7rem;
    font-weight: 600;
    border-radius: 9999px;
    background: var(--white-85);
    color: var(--primary);
    border: 1px solid var(--surface-glass);
    display: inline-flex;
    align-items: center;
    gap: 4px;
    box-shadow: none;
    width: 95px;
    justify-content: center;
    white-space: nowrap;
  }
  .badge.clickable {
    background: linear-gradient(135deg, #1a1b3a 0%, #2a1b3a 100%);
    border: 1px solid var(--accent);
    box-shadow: 0 2px 8px rgba(26, 27, 58, 0.3);
    transition: all 0.2s ease;
  }
  .badge.clickable:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(26, 27, 58, 0.4);
    background: linear-gradient(135deg, #0f1024 0%, #1a1b3a 100%);
  }

    /* 指标区域 */
    .stats {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 24px;
      margin: 36px 0 12px;
    }
    .stat {
      flex: 1 1 140px;
      text-align: center;
    }
    .stat-value {
      font-size:1rem;
      font-weight: 800;
      line-height: 1;
      margin-bottom: 4px;
    }
    .stat-label {
      font-size: 0.75rem;
      color: var(--accent);
    }

    /* 表单区 */
    .form-area {
      background: var(--neutral);
      color: var(--primary);
      padding: 40px 40px 48px;
    }

    /* 步骤条 */
    .steps {
      display: flex;
      justify-content: center;
      gap: 16px;
      margin-bottom: 32px;
    }
    .steps li {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--neutral-dark);
      color: var(--primary);
      font-weight: 700;
      display: grid;
      place-items: center;
      font-size: 0.9rem;
    }
    .steps li.active {
      background: var(--accent);
      color: var(--primary);
    }

    /* 表单控件 */
    .field-label {
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 6px;
      display: block;
    }
    .input {
      width: 100%;
      padding: 14px 16px;
      font-size: 0.95rem;
      border: 2px solid var(--neutral-dark);
      border-radius: 10px;
      transition: border 0.25s;
      background: var(--neutral);
      color: var(--primary);
    }
    .input:focus {
      outline: none;
      border-color: var(--accent);
    }
    .hint {
      margin-top: 6px;
      font-size: 0.75rem;
      color: var(--primary);
      opacity: 0.7;
    }

    /* CTA 按钮 */
    .btn {
      display: block;
      width: 100%;
      margin-top: 26px;
      padding: 16px 0;
      font-size: 1.05rem;
      font-weight: 700;
      color: var(--primary);
      background: var(--accent);
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.25s;
    }
    .btn:hover {
      background: var(--accent-dark);
      transform: translateY(-1px);
    }

    /* 页脚 */
    footer {
      text-align: center;
      font-size: 0.7rem;
      color: var(--accent);
      padding: 18px 0 24px;
    }

    /* 小屏优化 */
    @media (max-width: 480px) {
      .card-header { padding: 40px 24px 24px; }
      .form-area   { padding: 32px 24px; }
      
      /* 价格区域优化 */
      .price {
        margin-top: 8px;
        gap: 6px;
      }
      .price-val {
        font-size: 2.2rem;
      }
      .price-tag {
        font-size: 0.75rem;
        padding: 3px 8px;
      }
      
      /* 按钮优化 */
      .btn-buy {
        margin: 20px 0 8px;
        padding: 16px 0;
        font-size: 1.05rem;
      }
      
      /* 步骤优化 */
      .steps-mini {
        gap: 6px 8px;
        margin: 8px 0 6px;
      }
      .step-pill {
        font-size: 0.75rem;
        padding: 5px 8px;
      }
      .steps-link {
        font-size: 0.75rem;
        margin-left: 4px;
      }
      
      /* 徽章优化 */
      .badges {
        gap: 8px;
        margin-top: 16px;
      }
      .badge {
        font-size: 0.7rem;
        padding: 3px 8px;
      }
      
      /* 统计优化 */
      .stats {
        gap: 16px;
        margin: 24px 0 8px;
      }
      .stat-value {
        font-size: 0.9rem;
      }
      .stat-label {
        font-size: 0.7rem;
      }
    }
  
  /* ======== 价格 + CTA ======== */
  .price{ margin-top:4px; display:flex; justify-content:center; align-items:flex-end; gap:8px; 
    display:flex;
    justify-content:center;
    align-items:flex-end;
    gap:8px;
    margin-top:6px;
  }
  .price-val{
    font-size:2.4rem;
    font-weight:900;
    line-height:1;
  }
  .price-tag{
    font-size:.8rem;
    font-weight:600;
    padding:4px 10px;
    border-radius:9999px;
    background: rgba(212,175,55,.18);
    color: var(--primary);
    border: 1px solid var(--surface-glass);
  }

  .btn-buy{
    width:100%;
    margin:22px 0 6px;
    padding:18px 0;
    font-size:1.12rem;
    font-weight:800;
    letter-spacing:.02em;
    color: var(--primary);
    background: linear-gradient(180deg, #d4af37 0%, #b8941f 100%);
    border:none;
    border-radius:14px;
    cursor:pointer;
    transition: transform .15s ease, filter .2s ease;
    box-shadow: 0 10px 24px rgba(212,175,55,.28);
    animation: ctaPulse 2.2s ease-in-out infinite;
  }
  .btn-buy:hover{ filter: brightness(1.05); transform: translateY(-2px); }
  .btn-buy:active{ transform: translateY(0); }
  .btn-buy:focus-visible{ outline: 3px solid var(--brand-500); outline-offset: 2px; }

  /* —— 说明文字 —— */
  .note-weak{
    margin:10px 0 4px;
    text-align:center;
    font-size:.82rem;
    color: var(--accent);
    opacity:.9;
  }
  .note-link{
    color: var(--accent);
    text-decoration:underline;
  }
  

  .cs-drawer{
    position:fixed; right:22px; bottom:92px;
    width:260px; background: var(--neutral); color: var(--primary);
    border-radius:14px; box-shadow:0 12px 36px rgba(0,0,0,.22);
    transform:translateY(20px); opacity:0; pointer-events:none;
    transition:all .2s ease;
  }
  .cs-drawer.open{ transform:translateY(0); opacity:1; pointer-events:auto; }
  .cs-head{
    display:flex; justify-content:space-between; align-items:center;
    padding:12px 14px; border-bottom:1px solid var(--neutral-dark);
  }
  .cs-head button{ background:transparent; border:none; font-size:16px; cursor:pointer; }
  .cs-body{ padding:12px 14px 16px; font-size:.92rem; }
  .cs-body p{ margin:10px 0; }
  .copy{
    margin-left:8px; padding:4px 8px; font-size:.78rem;
    border-radius:8px; border:1px solid var(--neutral-dark); background: var(--neutral); cursor:pointer;
    color: var(--primary);
  }
  .qq-toggle-btn{
    width:100%; margin-top:8px; padding:6px 8px; font-size:.8rem;
    border:1px solid var(--neutral-dark); background: var(--neutral); border-radius:6px;
    cursor:pointer; color: var(--primary); transition:background .2s;
  }
  .qq-toggle-btn:hover{ background: var(--neutral-dark); }
  .qq-content{ margin-top:8px; }
  .qr{ display:block; width:100%; border-radius:10px; margin-top:8px; }
  

  /* ======== 首屏精简：隐藏激活码验证区 ======== */
  .form-area, .steps { display:none !important; }
  /* ===== CTA 强化（按主题变换阴影色） ===== */
  @keyframes ctaPulse {
    0%,100% { box-shadow: 0 10px 24px rgba(212,175,55,.28); transform: translateY(0); }
    50%     { box-shadow: 0 16px 36px rgba(212,175,55,.42); transform: translateY(-1px); }
  }

  /* ===== 移动端浮窗 CTA ===== */
  .cta-sticky{
    position:fixed; left:16px; right:16px; bottom:16px; z-index:50;
    display:none;
    text-align:center; font-weight:800; font-size:1.02rem; color: var(--primary);
    padding:14px 0; border-radius:14px; text-decoration:none;
    background: linear-gradient(180deg, #d4af37 0%, #b8941f 100%);
    box-shadow: 0 10px 24px rgba(212,175,55,.28);
  }
  @media (max-width: 640px){ .cta-sticky{ display:none; } }
  .steps-mini{
    display:flex; flex-wrap:wrap; gap:8px 10px; justify-content:center;
    align-items:center; margin:8px 0 4px;
  }
  .step-pill{
    font-size:.78rem; font-weight:600; color: var(--primary);
    padding:6px 10px; border-radius:9999px;
    background: var(--white-85); border:1px solid var(--surface-glass);
    box-shadow: none;
    width: 95px; text-align: center;
    display: inline-block;
    white-space: nowrap;
  }
  .steps-link{
    margin-left:6px; font-size:.78rem; color: var(--accent); text-decoration:underline;
  }

  .flow-mask{
    position:fixed; inset:0; background:rgba(0,0,0,.35);
    backdrop-filter: blur(2px);
    display:none; align-items:center; justify-content:center; z-index:60;
  }
  .flow-mask.show{ display:flex; }
  .flow-modal{
    width:min(92vw,560px); background: var(--neutral); color: var(--primary); border-radius:16px;
    box-shadow:0 24px 64px rgba(0,0,0,.25); overflow:hidden;
  }
  .flow-head{
    display:flex; justify-content:space-between; align-items:center;
    padding:12px 16px; border-bottom:1px solid var(--neutral-dark);
  }
  .flow-head button{ background:transparent; border:none; font-size:18px; cursor:pointer; }
  .flow-body{ padding:14px 18px 18px; }
  .flow-body ol{ margin:0 0 6px 18px; }
  .flow-body li{ margin:8px 0; line-height:1.6; }
  .tips{ margin-top:6px; font-size:.9rem; color: var(--primary); opacity: 0.7; }
  .tips.highlight{ 
    background: var(--brand-glass);
    color: var(--text-strong);
    padding: 12px 16px;
    border-radius: 10px;
    border: 1px solid var(--surface-glass);
    font-weight: 600;
    text-align: center;
    margin: 16px 0;
    box-shadow: none;
  }
  /* —— 优化对齐：文字左对齐，椭圆按钮对齐 —— */
  .buy-notes {
    list-style: none;
    padding: 0;
    margin: 12px auto;
    max-width: 360px;
    display: block;
    text-align: left;
  }
  .buy-notes li {
    display: flex;
    align-items: center;
    margin: 6px 0;
    font-size: 0.9rem;
    color: var(--accent);
    opacity: 0.9;
    position: relative;
    padding-left: 1.25rem;
  }
  .buy-notes li::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0.55em;
    width: 0.45rem;
    height: 0.45rem;
    border-radius: 50%;
    background: var(--accent);
  }
  .buy-notes li.highlight {
    background: var(--brand-glass);
    color: var(--text-strong);
    padding: 12px 16px;
    border-radius: 10px;
    border: 1px solid var(--surface-glass);
    font-weight: 600;
    margin: 16px 0;
    box-shadow: none;
    cursor: pointer;
    transition: all 0.2s ease;
  }
  .buy-notes li.highlight:hover {
    transform: translateY(-1px);
    box-shadow: none;
  }
  .buy-notes li.highlight::before {
    content: '💬';
    color: var(--accent);
  }
  /* —— flow-modal 客服入口样式 —— */
  .flow-support { margin-top:16px; padding-top:12px; border-top:1px solid var(--neutral-dark); }
  .flow-support .support-title {
    font-size:0.92rem; font-weight:600; color: var(--primary); margin-bottom:6px;
  }
  .flow-support p {
    margin:4px 0; font-size:0.88rem; color: var(--primary);
  }
  .flow-support .copy-btn {
    margin-left:8px; padding:2px 6px; font-size:0.78rem;
    border:1px solid var(--neutral-dark); background: var(--neutral); border-radius:6px;
    cursor:pointer; transition:background .2s; color: var(--primary);
  }
  .flow-support .copy-btn:hover { background: var(--neutral-dark); }
  .flow-qq-toggle-btn{
    width:100%; margin-top:8px; padding:6px 8px; font-size:.8rem;
    border:1px solid var(--neutral-dark); background: var(--neutral); border-radius:6px;
    cursor:pointer; color: var(--primary); transition:background .2s;
  }
  .flow-qq-toggle-btn:hover{ background: var(--neutral-dark); }
  .flow-qq-content{ margin-top:8px; }
  /* 成本暴涨通知样式 */
  .cost-notice {
    background: var(--brand-glass);
    border: 2px solid var(--surface-glass);
    border-radius: 16px;
    padding: 20px 24px;
    margin: 20px 0;
    display: flex;
    align-items: flex-start;
    gap: 16px;
    box-shadow: none;
    animation: costNoticePulse 3s ease-in-out infinite;
  }
  @keyframes costNoticePulse {
    0%, 100% { 
      box-shadow: none;
      transform: scale(1);
    }
    50% { 
      box-shadow: none;
      transform: scale(1.01);
    }
  }
  .cost-notice-icon {
    font-size: 2rem;
    flex-shrink: 0;
    margin-top: 2px;
  }
  .cost-notice-content {
    color: var(--text-strong);
    flex: 1;
  }
  .cost-notice-title {
    font-size: 1.1rem;
    font-weight: 700;
    margin-bottom: 12px;
    color: var(--text-strong);
  }
  .cost-notice-main {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }
  .cost-notice-item {
    font-size: 0.95rem;
    line-height: 1.4;
    display: flex;
    align-items: flex-start;
    gap: 8px;
  }
  .cost-notice-label {
    font-weight: 600;
    color: var(--text-strong);
    flex-shrink: 0;
    min-width: 80px;
  }
  .cost-notice-item strong {
    color: #dc2626;
    font-weight: 700;
  }
  .copy-inline {
    background: rgba(212, 175, 55, 0.2);
    color: var(--text-strong);
    border: 1px solid rgba(212, 175, 55, 0.3);
    padding: 3px 6px;
    border-radius: 4px;
    font-size: 0.75rem;
    cursor: pointer;
    transition: all 0.2s ease;
    margin-left: 8px;
    flex-shrink: 0;
  }
  .copy-inline:hover {
    background: rgba(212, 175, 55, 0.3);
  }


  /* 手机端：把客服浮窗提到置底 CTA 之上 */
  @media (max-width: 640px) {
    
    /* 成本通知移动端优化 */
    .cost-notice {
      padding: 12px 16px;
      margin: 12px 0;
      gap: 8px;
      flex-direction: column;
      text-align: center;
    }
    .cost-notice-icon {
      font-size: 1.5rem;
      margin: 0 auto 6px;
    }
    .cost-notice-content {
      width: 100%;
    }
    .cost-notice-title {
      font-size: 0.95rem;
      margin-bottom: 8px;
      text-align: center;
    }
    .cost-notice-main {
      gap: 6px;
    }
    .cost-notice-item {
      font-size: 0.85rem;
      flex-direction: row;
      align-items: flex-start;
      gap: 6px;
      text-align: left;
      padding: 3px 0;
    }
    .cost-notice-label {
      min-width: 70px;
      font-size: 0.8rem;
      flex-shrink: 0;
    }
    
    /* 复制按钮移动端优化 */
    .copy-inline {
      margin-left: 4px;
      padding: 2px 4px;
      font-size: 0.65rem;
    }
  }
  
  /* 超小屏幕优化 */
  @media (max-width: 375px) {
    .cost-notice {
      padding: 10px 14px;
      margin: 10px 0;
    }
    .cost-notice-title {
      font-size: 0.9rem;
      margin-bottom: 6px;
    }
    .cost-notice-item {
      font-size: 0.8rem;
      flex-direction: row;
      align-items: flex-start;
      gap: 5px;
      padding: 2px 0;
    }
    .cost-notice-label {
      min-width: 65px;
      font-size: 0.75rem;
    }
    .copy-inline {
      margin-left: 3px;
      padding: 1px 3px;
      font-size: 0.6rem;
    }
  }



/* 压缩首屏：隐藏大公告卡片，仅保留细公告条 */
.cost-notice{ display:none !important; }
.notice-bar-top{
  margin: 10px auto 6px;
  display:flex; align-items:center; justify-content:center;
  max-width:520px;
  padding:.5rem .75rem; border-radius:12px;
  background: var(--brand-glass);
  color: var(--text-strong); font-weight:700; border: 1px solid var(--surface-glass);
  box-shadow: none;
  font-size:.95rem;
}
.small-risk{
  margin:8px 0 2px; text-align:center; color: rgba(255,255,255,.9);
  font-size:.9rem;
}

/* 底部公告条 + 弹窗（保持与现有风格兼容） */
.sticky-note{
  position:fixed; left:0; right:0; bottom:0; z-index:30;
  display:flex; align-items:center; justify-content:center; gap:.8rem; flex-wrap:wrap;
  padding:.7rem 1rem; background:rgba(255,255,255,.92);
  border-top:1px solid rgba(0,0,0,.06); backdrop-filter:saturate(140%) blur(4px);
  font-size:14px; color:#111;
}
.sticky-note .cta-mini{
  all:unset; cursor:pointer; font-weight:800; padding:.45rem .8rem; border-radius:10px;
  border:1px solid rgba(255,255,255,.65); color:#fff;
}
.sticky-note .cta-outline{
  all:unset; cursor:pointer; font-weight:700; padding:.42rem .75rem; border-radius:10px;
  border:1px solid rgba(0,0,0,.25); color:#111; background:rgba(255,255,255,.5);
}
.modal-mask{ position:fixed; inset:0; background:rgba(0,0,0,.5); display:none; align-items:center; justify-content:center; z-index:50; padding:16px; }
.modal-mask.show{ display:flex; }
.modal-card{ width:min(680px,96vw); background:#0b1220; color:#e5e7eb; border-radius:16px; padding:20px 20px 16px;
  border:1px solid rgba(255,255,255,.08); box-shadow:0 20px 60px rgba(0,0,0,.4); }
.modal-card h3{ margin:.2rem 0 1rem; font-size:20px }
.modal-card p{ line-height:1.7; margin:.4rem 0 1rem }
.modal-footer{ display:flex; justify-content:flex-end; }
.modal-close{ position:absolute; transform:translate(650px,-10px); background:#111827; color:#fff; border:none; padding:.35rem .55rem; border-radius:8px; cursor:pointer; }

/* 细公告条（保持简洁） */
.notice-bar-top{
  margin: 10px auto 6px; display:flex; align-items:center; justify-content:center;
  max-width:520px; padding:.5rem .75rem; border-radius:12px;
  background: var(--brand-glass);
  color: var(--text-strong); font-weight:700; border: 1px solid var(--surface-glass);
  box-shadow: none; font-size:.95rem;
}
.small-risk{ margin:8px 0 2px; text-align:center; color:rgba(255,255,255,.9); font-size:.9rem; }
/* 底部公告条（全宽） */
.sticky-note{
  position:fixed; left:0; right:0; bottom:0; z-index:30;
  display:flex; align-items:center; justify-content:center; gap:.8rem; flex-wrap:wrap;
  padding:.7rem 1rem; background:rgba(255,255,255,.92);
  border-top:1px solid rgba(0,0,0,.06); backdrop-filter:saturate(140%) blur(4px);
  font-size:14px; color:#111;
}
.sticky-note .cta-mini{
  all:unset; cursor:pointer; font-weight:800; padding:.45rem .8rem; border-radius:10px;
  border:1px solid rgba(255,255,255,.65); color:#fff;
}
.sticky-note .cta-outline{
  all:unset; cursor:pointer; font-weight:700; padding:.42rem .75rem; border-radius:10px;
  border:1px solid rgba(0,0,0,.25); color:#111; background:rgba(255,255,255,.5);
}
/* 帮助中心 Modal */
.help-mask{ position:fixed; inset:0; background:rgba(0,0,0,.5); display:none; align-items:center; justify-content:center; z-index:80; padding:16px; }
.help-mask.show{ display:flex; }
.help-card{
  width:min(760px,96vw); max-height:min(88vh, 1200px); overflow:auto;
  background:#0b1220; color:#e5e7eb; border-radius:16px; padding:16px 16px 12px;
  border:1px solid rgba(255,255,255,.08); box-shadow:0 20px 60px rgba(0,0,0,.45);
}
.help-close{ position:sticky; top:0; float:right; background:#111827; color:#fff; border:none; padding:.35rem .55rem; border-radius:8px; cursor:pointer; }
.help-tabs{ display:flex; gap:.5rem; margin:.25rem 0 .75rem; }
.help-tabs .tab{
  all:unset; cursor:pointer; padding:.48rem .8rem; border-radius:10px; font-weight:700;
  color:#e5e7eb; border:1px solid rgba(255,255,255,.12);
}
.help-tabs .tab.active{ background:#1f2937; }
.help-panels .panel{ display:none; }
.help-panels .panel.active{ display:block; }
.flow-steps{ padding-left:1.2rem; line-height:1.8; }
.list{ padding-left:1.2rem; line-height:1.8; }
.muted{ opacity:.8; }
.visually-hidden{ position:absolute; width:1px; height:1px; margin:-1px; border:0; padding:0; clip:rect(0 0 0 0); overflow:hidden; }
/* mobile: bottom sheet style */
@media (max-width: 520px){
  .help-card{ width:100%; max-width:100%; border-bottom-left-radius:0; border-bottom-right-radius:0; align-self:flex-end; }
}
/* 打开弹窗时禁止滚动 */
.modal-open{ overflow:hidden; }

.cost-notice{ display:none !important; }

/* 统一“价格·涨价说明”弹窗：隐藏旧入口（全部并入统一弹窗） */
#openPriceModal, #openFlowModal, #openSupportModal, #openPolicy, #openWhy, #openFlow { display:none !important; }
/* 弹窗打开时，底部公告条降噪并禁点（小屏避免误触） */
body.modal-open .sticky-note{ opacity:.6; pointer-events:none; }
/* 打开弹窗时禁止页面滚动 */
body.modal-open{ overflow:hidden; }

/* 底部公告条（全宽居中） */
.sticky-note{
  position:fixed; left:0; right:0; bottom:0; z-index:30;
  display:flex; align-items:center; justify-content:center; gap:.8rem; flex-wrap:wrap;
  padding:.7rem 1rem; background: rgba(26,27,58,.90);
  border-top:1px solid var(--surface-glass); backdrop-filter:saturate(140%) blur(4px);
  font-size:14px; color:#fff;
}
.sticky-note .cta-mini{
  all:unset; cursor:pointer; font-weight:700; padding:.42rem .75rem; border-radius:10px;
  border:1px solid rgba(255,255,255,.65); color:#fff;
}
.sticky-note .cta-outline{
  all:unset; cursor:pointer; font-weight:700; padding:.42rem .75rem; border-radius:10px;
  border:1px solid rgba(212,175,55,.75); color:#fff;
}

/* 价格·涨价说明 弹窗 */
.modal-mask{ position:fixed; inset:0; background:rgba(0,0,0,.5); display:none; align-items:center; justify-content:center; z-index:70; padding:16px; }
.modal-mask.show{ display:flex; }
.modal-card{ width:min(720px,96vw); background: var(--overlay); color: var(--text-muted); border-radius:16px; padding:20px 20px 16px;
  border:1px solid var(--surface-glass); box-shadow:0 20px 60px rgba(0,0,0,.4); outline:0; }
.modal-close{ position:absolute; transform:translate(670px,-10px); background:#111827; color:#fff; border:none; padding:.35rem .55rem; border-radius:8px; cursor:pointer; }
.help-tabs{ display:flex; gap:.5rem; margin:.5rem 0 1rem; flex-wrap:wrap; }
.help-tabs .tab-btn{
  all:unset; cursor:pointer; padding:.35rem .7rem; border-radius:10px; font-weight:700; color:#c7d2fe;
  border:1px solid var(--surface-glass); background:rgba(255,255,255,.06);
}
.help-tabs .tab-btn.active{ color:#fff; background: rgba(99,102,241,.18); border-color: rgba(99,102,241,.45); }
.tab-panel[hidden]{ display:none !important; }
.tab-panel.active{ display:block; }
.flow-steps{ padding-left:1.2rem; margin:.2rem 0 1rem }
.hint{ opacity:.8; }

/* 弹窗内按钮容器：增加间距 */
.modal-footer{
  display:flex; gap:1rem; align-items:center; flex-wrap:wrap;
}

/* 弹窗内按钮：统一描边 */
.modal-footer .cta-mini{
  all:unset; cursor:pointer; font-weight:700; padding:.42rem .75rem; border-radius:10px;
  border:1px solid rgba(255,255,255,.65); color:#fff;
}
/* 弹窗内购买按钮：金色样式（与立即购买按钮一致） */
.modal-footer .cta-outline{
  all:unset; cursor:pointer; font-weight:700; padding:.42rem .75rem; border-radius:10px;
  background: linear-gradient(180deg, #d4af37 0%, #b8941f 100%);
  color: var(--primary);
}

@media (max-width:480px){ .modal-close{ transform:translate(300px,-10px);} }

/* 小链接颜色 */
a#openWhyTop{ color: var(--accent); text-decoration:underline; }
a#openWhyTop:hover{ color:#fff; }

/* === Recharge Guide (rg-) minimal styles === */
.rg-mask{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;z-index:999;padding:16px;}
.rg-mask.show{display:flex;}
.rg-card{width:min(560px,96vw);background: var(--overlay);color:rgba(255,255,255,.9);border-radius:16px;padding:20px 20px 16px;border:1px solid var(--surface-glass);box-shadow:0 20px 60px rgba(0,0,0,.4);outline:0;}
.rg-title{margin:.2rem 0 1rem;font-size:1.1rem;font-weight:800;}
.rg-close{position:absolute;transform:translate(500px,-10px);background:#111827;color:#fff;border:none;padding:.35rem .55rem;border-radius:8px;cursor:pointer;}
.rg-body p{margin:.4rem 0;}
.rg-actions{display:flex;gap:.6rem;align-items:center;flex-wrap:wrap;margin:.9rem 0 .4rem;}
.rg-btn{all:unset;cursor:pointer;padding:.55rem .9rem;border-radius:10px;font-weight:800;}
.rg-btn-primary{background:linear-gradient(180deg,#d4af37,#b8941f);color: var(--primary);} /* 金色按钮，与主配色体系一致 */
.rg-btn-ghost{border:1px solid rgba(255,255,255,.65);color:#fff;}
.rg-copyline{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap;background:rgba(255,255,255,.06);padding:.5rem .6rem;border-radius:10px;border:1px solid rgba(255,255,255,.08)}
.rg-url{user-select:all;word-break:break-all}
.rg-hint{opacity:.8;font-size:.9rem}
@media (max-width:480px){ .rg-close{ transform:translate(260px,-10px);} }

/* === 官方通知弹窗（proof-） === */
.proof-mask{position:fixed;inset:0;background:rgba(0,0,0,.55);display:none;align-items:center;justify-content:center;z-index:120;padding:16px;}
.proof-mask.show{display:flex;}
.proof-card{width:min(860px,96vw);max-height:90vh;overflow:auto;background: var(--overlay);color:rgba(255,255,255,.88);
  border-radius:16px;padding:20px 20px 18px;border:1px solid var(--surface-glass);box-shadow:0 20px 60px rgba(0,0,0,.45);outline:0;}
.proof-close{position:sticky;top:-8px;float:right;background:#111827;color:#fff;border:none;padding:.38rem .6rem;border-radius:8px;cursor:pointer;}
.proof-title{margin:.2rem 0 1rem;font-size:1.15rem;font-weight:800;}
.proof-sec{margin:.75rem 0;}
.proof-sec h4{margin:.25rem 0 .4rem;font-size:1.02rem;}
.proof-list{margin:.35rem 0 .2rem;padding-left:1rem;}
.proof-list li{margin:.3rem 0;}
.proof-actions{display:flex;gap:.6rem;align-items:center;flex-wrap:wrap;margin:1rem 0 .2rem;}
.proof-btn{all:unset;cursor:pointer;padding:.55rem .9rem;border-radius:10px;font-weight:800;}
.proof-btn-ghost{border:1px solid rgba(255,255,255,.65);color:#fff;}
.proof-btn-primary{background:linear-gradient(180deg,#d4af37 0%,#b8941f 100%);color: var(--primary);} /* 与站内主CTA保持一致，金色按钮 */
.proof-hint{opacity:.82;}
.proof-imgwrap{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:130;display:none;background:rgba(0,0,0,.9);padding:20px;border-radius:12px;border:1px solid rgba(255,255,255,.2);}
.proof-imgwrap.show{display:block;}
.proof-img{max-width:90vw;max-height:80vh;width:auto;height:auto;border-radius:8px;position:relative;}
.proof-imgwrap .img-close{position:absolute;top:-10px;right:-10px;background:#ff4444;color:#fff;border:none;width:30px;height:30px;border-radius:50%;cursor:pointer;font-size:16px;font-weight:bold;display:none;z-index:131;}
@media (max-width:640px){
  .proof-imgwrap{padding:15px;border-radius:8px;}
  .proof-imgwrap .img-close{display:block;}
  .proof-img{max-width:95vw;max-height:85vh;}
}
.proof-openlink{opacity:.9;text-decoration:underline;cursor:pointer;margin-left:.5rem;}
/* 价格构成页签内的小链接样式（弱化） */
#tab-price .open-proof-link{opacity:.85;text-decoration:underline;cursor:pointer;margin-left:.6rem;}
@media (max-width:480px){ .proof-close{position:static;float:none;margin-left:auto;display:block;margin-bottom:.2rem;} }

/* 统一"为什么不是更便宜"弹窗：隐藏旧入口（全部映射到新弹窗） */
#openPriceModal, #openFlowModal, #openSupportModal, #openPolicy, #openWhy, #openFlow { display:none !important; }

/* 打开弹窗时：禁滚动 & 底部条降噪禁点（小屏避免误触） */
body.modal-open { overflow:hidden; }
body.modal-open .sticky-note { opacity:.6; pointer-events:none; }
</style>
<style>
/* ========== Theme Pack: 3 skins (只需改 body 上的类名即可切换) ========== */

/* ---------- Emerald（青绿/清新） ---------- */
body.theme-emerald{
  /* 覆盖全站变量（会被后续组件继承） */
  --primary:#10b981;
  --primary-dark:#059669;
  --brand-500:#10b981;
  --brand-600:#059669;
  --brand-glass:rgba(16,185,129,.16);
  --accent-500:#06b6d4;
  --accent-600:#0891b2;
  --overlay:#0a1311;
  --surface-glass:rgba(255,255,255,.10);
  --text-strong:#ffffff;
  --text-muted:rgba(255,255,255,.88);
  /* 背景渐变：青色 → 薄荷绿 */
  background: linear-gradient(135deg,#06b6d4 0%,#10b981 100%) !important;
  --cta-shadow-weak: 0 10px 24px rgba(16,185,129,.28);
  --cta-shadow-strong: 0 16px 36px rgba(16,185,129,.42);
}
/* CTA / 主按钮 / 弹窗主按钮 / 底部吸底 CTA */
body.theme-emerald .btn-buy,
body.theme-emerald .cta-sticky,
body.theme-emerald .proof-btn-primary,
body.theme-emerald .rg-btn-primary{
  background: linear-gradient(180deg,#34d399 0%,#10b981 100%) !important;
  color:#0b1320 !important;
  box-shadow:0 10px 24px rgba(16,185,129,.35);
}
/* 徽章高亮 & 价格贴片 & 链接色 */
body.theme-emerald .badge.clickable{
  background: linear-gradient(135deg,#0ea5e9 0%,#10b981 100%) !important;
  border-color:#99f6e4 !important;
}
body.theme-emerald .price-tag{ background: rgba(16,185,129,.18) !important; }
body.theme-emerald a#openWhyTop,
body.theme-emerald .steps-link{ color:#a7f3d0 !important; }
body.theme-emerald a#openWhyTop:hover,
body.theme-emerald .steps-link:hover{ color:#fff !important; }
/* 公告条与弹窗底色 */
body.theme-emerald .sticky-note{ background: rgba(10,19,17,.92) !important; color:#fff !important; border-top:1px solid rgba(255,255,255,.12) }
body.theme-emerald .notice-bar-top{ background: rgba(16,185,129,.16) !important; border-color: rgba(255,255,255,.10) !important; }
body.theme-emerald .modal-card,
body.theme-emerald .help-card,
body.theme-emerald .rg-card,
body.theme-emerald .proof-card{
  background:#0a1311 !important; color:rgba(255,255,255,.9) !important; border-color:rgba(255,255,255,.1) !important;
}
/* 弹窗内主CTA（去购买）与描边按钮适配主题 */
body.theme-emerald .modal-footer .cta-outline,
body.theme-emerald #proofGoBuy,
body.theme-emerald .rg-btn-primary{
  background: linear-gradient(180deg,#34d399 0%,#10b981 100%) !important;
  color:#0b1320 !important;
}
body.theme-emerald .modal-footer .cta-mini,
body.theme-emerald .proof-btn-ghost,
body.theme-emerald .rg-btn-ghost{
  border-color: rgba(255,255,255,.65) !important; color:#fff !important;
}

/* ---------- Rose（玫红/年轻） ---------- */
body.theme-rose{
  --primary:#ec4899; --primary-dark:#db2777;
  --brand-500:#ec4899; --brand-600:#db2777; --brand-glass:rgba(236,72,153,.16);
  --accent-500:#a78bfa; --accent-600:#8b5cf6;
  --overlay:#180d17; --surface-glass:rgba(255,255,255,.10);
  --text-strong:#ffffff; --text-muted:rgba(255,255,255,.88);
  background: linear-gradient(135deg,#f472b6 0%,#8b5cf6 100%) !important;
  --cta-shadow-weak: 0 10px 24px rgba(236,72,153,.28);
  --cta-shadow-strong: 0 16px 36px rgba(236,72,153,.42);
}
body.theme-rose .btn-buy,
body.theme-rose .cta-sticky,
body.theme-rose .proof-btn-primary,
body.theme-rose .rg-btn-primary{
  background: linear-gradient(180deg,#fb7185 0%,#ec4899 100%) !important;
  color:#1f0a17 !important; box-shadow:0 10px 24px rgba(236,72,153,.35);
}
body.theme-rose .badge.clickable{
  background: linear-gradient(135deg,#a78bfa 0%,#ec4899 100%) !important;
  border-color:#fecdd3 !important;
}
body.theme-rose .price-tag{ background: rgba(236,72,153,.18) !important; }
body.theme-rose a#openWhyTop,
body.theme-rose .steps-link{ color:#fed7e2 !important; }
body.theme-rose a#openWhyTop:hover,
body.theme-rose .steps-link:hover{ color:#fff !important; }
body.theme-rose .sticky-note{ background: rgba(24,13,23,.9) !important; color:#fff !important; border-top:1px solid rgba(255,255,255,.12) }
body.theme-rose .notice-bar-top{ background: rgba(236,72,153,.16) !important; border-color: rgba(255,255,255,.10) !important; }
body.theme-rose .modal-card,
body.theme-rose .help-card,
body.theme-rose .rg-card,
body.theme-rose .proof-card{
  background:#180d17 !important; color:rgba(255,255,255,.9) !important; border-color:rgba(255,255,255,.1) !important;
}
body.theme-rose .modal-footer .cta-outline,
body.theme-rose #proofGoBuy,
body.theme-rose .rg-btn-primary{
  background: linear-gradient(180deg,#fb7185 0%,#ec4899 100%) !important;
  color:#1f0a17 !important;
}
body.theme-rose .modal-footer .cta-mini,
body.theme-rose .proof-btn-ghost,
body.theme-rose .rg-btn-ghost{
  border-color: rgba(255,255,255,.65) !important; color:#fff !important;
}

/* ---------- Slate（暗蓝灰/稳重） ---------- */
body.theme-slate{
  --primary:#3b82f6; --primary-dark:#2563eb; /* 科技感蓝 */
  --brand-500:#60a5fa; --brand-600:#3b82f6; --brand-glass:rgba(96,165,250,.16);
  --accent-500:#22d3ee; --accent-600:#06b6d4;
  --overlay:#0b1220; --surface-glass:rgba(255,255,255,.10);
  --text-strong:#ffffff; --text-muted:rgba(255,255,255,.88);
  background: linear-gradient(135deg,#0f172a 0%,#1e293b 100%) !important;
  --cta-shadow-weak: 0 10px 24px rgba(56,189,248,.26);
  --cta-shadow-strong: 0 16px 36px rgba(56,189,248,.38);
}
body.theme-slate .btn-buy,
body.theme-slate .cta-sticky,
body.theme-slate .proof-btn-primary,
body.theme-slate .rg-btn-primary{
  background: linear-gradient(180deg,#38bdf8 0%,#0ea5e9 100%) !important;
  color:#081018 !important; box-shadow:0 10px 24px rgba(56,189,248,.32);
}
body.theme-slate .badge.clickable{
  background: linear-gradient(135deg,#3b82f6 0%,#06b6d4 100%) !important;
  border-color:#bae6fd !important;
}
body.theme-slate .price-tag{ background: rgba(96,165,250,.18) !important; }
body.theme-slate a#openWhyTop,
body.theme-slate .steps-link{ color:#bfdbfe !important; }
body.theme-slate a#openWhyTop:hover,
body.theme-slate .steps-link:hover{ color:#fff !important; }
body.theme-slate .sticky-note{ background: rgba(10,16,24,.92) !important; color:#fff !important; border-top:1px solid rgba(255,255,255,.12) }
body.theme-slate .notice-bar-top{ background: rgba(96,165,250,.16) !important; border-color: rgba(255,255,255,.10) !important; }
body.theme-slate .modal-card,
body.theme-slate .help-card,
body.theme-slate .rg-card,
body.theme-slate .proof-card{
  background:#0b1220 !important; color:rgba(255,255,255,.9) !important; border-color:rgba(255,255,255,.1) !important;
}
/* Slate 增强玻璃拟态：卡片/徽章/价格贴片/顶部条/底部条 */
body.theme-slate .card{ background: rgba(255,255,255,.10); backdrop-filter: blur(22px) saturate(120%); }
body.theme-slate .badge{ background: rgba(255,255,255,.14); border-color: rgba(255,255,255,.20); }
body.theme-slate .price-tag{ background: rgba(96,165,250,.18) !important; border-color: rgba(255,255,255,.22) !important; }
body.theme-slate .notice-bar-top{ background: rgba(96,165,250,.16) !important; border-color: rgba(255,255,255,.18) !important; }
body.theme-slate .sticky-note{ background: rgba(11,18,32,.90) !important; border-top-color: rgba(255,255,255,.14) !important; color:#fff !important; }
body.theme-slate .modal-footer .cta-outline,
body.theme-slate #proofGoBuy,
body.theme-slate .rg-btn-primary{
  background: linear-gradient(180deg,#38bdf8 0%,#0ea5e9 100%) !important;
  color:#081018 !important;
}
body.theme-slate .modal-footer .cta-mini,
body.theme-slate .proof-btn-ghost,
body.theme-slate .rg-btn-ghost{
  border-color: rgba(255,255,255,.65) !important; color:#fff !important;
}

/* ---------- Ink（墨绿/冷感） ---------- */
body.theme-ink{
  --primary:#16a34a; --primary-dark:#15803d;
  --brand-500:#34d399; --brand-600:#10b981; --brand-glass:rgba(34,197,94,.16);
  --accent-500:#0ea5e9; --accent-600:#0284c7;
  --overlay:#0a1311; --surface-glass:rgba(255,255,255,.10);
  --text-strong:#ffffff; --text-muted:rgba(255,255,255,.88);
  background: radial-gradient(1200px 600px at 20% -10%, #1f2937 0%, rgba(31,41,55,0) 60%),
              linear-gradient(135deg,#0b1614 0%,#0f291e 55%,#0b3a29 100%) !important;
  --cta-shadow-weak: 0 10px 24px rgba(16,185,129,.26);
  --cta-shadow-strong: 0 16px 36px rgba(16,185,129,.42);
}
body.theme-ink .btn-buy,
body.theme-ink .cta-sticky,
body.theme-ink .proof-btn-primary,
body.theme-ink .rg-btn-primary{
  background: linear-gradient(180deg,#34d399 0%,#10b981 100%) !important;
  color:#0b1320 !important; box-shadow: var(--cta-shadow-weak);
}
body.theme-ink .badge.clickable{
  background: linear-gradient(135deg,#0ea5e9 0%,#10b981 100%) !important;
  border-color:#99f6e4 !important;
}
body.theme-ink .price-tag{ background: rgba(16,185,129,.18) !important; }
body.theme-ink a#openWhyTop,
body.theme-ink .steps-link{ color:#a7f3d0 !important; }
body.theme-ink a#openWhyTop:hover,
body.theme-ink .steps-link:hover{ color:#fff !important; }
body.theme-ink .sticky-note{ background: rgba(10,19,17,.92) !important; color:#fff !important; border-top:1px solid rgba(255,255,255,.12) }
body.theme-ink .notice-bar-top{ background: rgba(16,185,129,.16) !important; border-color: rgba(255,255,255,.10) !important; }
body.theme-ink .modal-card,
body.theme-ink .help-card,
body.theme-ink .rg-card,
body.theme-ink .proof-card{
  background:#0a1311 !important; color:rgba(255,255,255,.9) !important; border-color:rgba(255,255,255,.1) !important;
}
/* Ink 玻璃拟态增强 */
body.theme-ink .card{ background: rgba(255,255,255,.10); backdrop-filter: blur(22px) saturate(120%); }
body.theme-ink .badge{ background: rgba(255,255,255,.14); border-color: rgba(255,255,255,.20); }
body.theme-ink .price-tag{ border-color: rgba(255,255,255,.22) !important; }
body.theme-ink .notice-bar-top{ border-color: rgba(255,255,255,.18) !important; }
body.theme-ink .sticky-note{ border-top-color: rgba(255,255,255,.14) !important; }
</style>
</head>
<body>
<main class="card">
<!-- 顶部 -->
<header class="card-header">
<h1>GPT Plus 安全充值</h1>
<div class="notice-bar-top">📢 当前价 ¥188 ｜ 加微信立减 ¥8 ｜ 官方通道更稳</div>
<!-- 成本暴涨通知 -->
<div class="cost-notice">
<div class="cost-notice-icon">📢</div>
<div class="cost-notice-content">
<div class="cost-notice-title">重要价格调整通知</div>
<div class="cost-notice-main">
<div class="cost-notice-item">
<span class="cost-notice-label">💰 成本变化：</span>
              全球成本上涨，价格调整至 <strong>¥188</strong>
</div>
<div class="cost-notice-item">
<span class="cost-notice-label">⚠️ 风险提醒：</span>
              低价警惕黑卡，避免封号
            </div>
<div class="cost-notice-item">
<span class="cost-notice-label">📈 后续趋势：</span>
              价格可能继续上涨，详情咨询微信
            </div>
<div class="cost-notice-item">
<span class="cost-notice-label">🎁 微信专享：</span>
              加微信立减 <strong>¥8</strong>
</div>
<div class="cost-notice-item">
<span class="cost-notice-label">💬 人工微信：</span>
<strong id="wechatId">mmzi0723</strong>
<button class="copy-inline" onclick="copyText('wechatId')">复制</button>
</div>
</div>
</div>
</div>
<!-- 🔥 价格 + CTA -->
<div class="price">
<span class="price-val">¥188</span>
<span class="price-tag">月付·标准版</span>
</div>
<button aria-label="立即购买卡密" class="btn-buy" id="buyBtn">🛒 立即购买 (¥188)</button><a href="#" id="openWhyTop">为什么不是更便宜</a><p class="small-risk">⚠ 警惕低价黑卡，避免封号风险</p>
<div class="steps-mini">
<span class="step-pill">1 下单卡密</span>
<span class="step-pill">2 提交账号</span>
<span class="step-pill">3 自动到帐</span>
<a class="steps-link" href="#" id="openFlow">查看流程</a>
</div>
<ul class="buy-notes">
<li>官方 iOS 通道·微信直充·5分钟自动到帐</li>
<li>无需提供账号密码，支持新老账号</li>
<li>可开票，需要开票请先联系人工，勿直接购买</li>
</ul>
<div class="badges">
<span class="badge">📱 官方 iOS 通道</span>
<span class="badge">🛡️ 无需提供密码</span>
<span class="badge">🔒 降低封号风险</span>
</div>
<div class="stats">
<div class="stat">
<div class="stat-value">50,000+</div>
<div class="stat-label">服务用户</div>
</div>
<div class="stat">
<div class="stat-value">99.9%</div>
<div class="stat-label">充值成功（近30天）</div>
</div>
<div class="stat">
<div class="stat-value">9:00–24:00</div>
<div class="stat-label">人工在线</div>
</div>
</div>
</header>
<!-- 表单 -->
<section class="form-area">
<ol class="steps">
<li class="active">1</li>
<li>2</li>
<li>3</li>
</ol>
<label class="field-label" for="code">激活码</label>
<input class="input" id="code" name="code" placeholder="请输入激活码，例如：GPT-DEMO-1234-ABCD" type="text"/>
<p class="hint">激活码由字母、数字和横线组成，不区分大小写</p>
<button class="btn" onclick="submitCode()">验证激活码</button>
</section>
<footer>
      面向国内用户的代充值通道，采用 iOS 官方渠道；自动化处理，三步完成。
    </footer>
</main>
<!-- 客服浮窗 -->

<div aria-hidden="true" class="cs-drawer" id="csDrawer">
<div class="cs-head">
<strong>联系人工</strong>
<button aria-label="关闭" id="csClose">✕</button>
</div>
<div class="cs-body">
<p>微信：<b id="wx">mmzi0723</b>
<button class="copy" onclick="copyText('wx')">复制</button></p>
<div class="qq-toggle">
<button class="qq-toggle-btn" id="qqToggle">微信联系不上时，请联系QQ</button>
<div class="qq-content" id="qqContent" style="display: none;">
<p>QQ：<b id="qq">1852634132</b>
<button class="copy" onclick="copyText('qq')">复制</button></p>
</div>
</div>
<!-- 如有二维码可自行替换图片路径 -->
<!-- <img src="/assets/wechat-qr.jpg" alt="微信二维码" class="qr"> -->
</div>
</div>
<script>
    function submitCode() {
      const code = document.getElementById("code").value.trim();
      if (!code) {
        alert("请先填写激活码");
        return;
      }
      // 跳转到激活码验证页面
      window.location.href = `chongzhi.pro`;
    }

    document.getElementById('buyBtn')?.addEventListener('click', function () {
      window.open('https://yf.dtyuedan.cn//details/EEF5AE91', '_blank');
    });

    const drawer = document.getElementById('csDrawer');
    const closeBtn = document.getElementById('csClose');
    const qqToggle = document.getElementById('qqToggle');
    const qqContent = document.getElementById('qqContent');

    function toggleDrawer(show){
      if(show){ drawer.classList.add('open'); drawer.setAttribute('aria-hidden','false'); }
      else    { drawer.classList.remove('open'); drawer.setAttribute('aria-hidden','true'); }
    }
    closeBtn?.addEventListener('click', ()=> toggleDrawer(false));
    
    // QQ折叠展开功能
    qqToggle?.addEventListener('click', ()=> {
      const isHidden = qqContent.style.display === 'none';
      qqContent.style.display = isHidden ? 'block' : 'none';
      qqToggle.textContent = isHidden ? '收起QQ联系方式' : '微信联系不上时，请联系QQ';
    });
    
    

    function copyText(id){
      const text = document.getElementById(id)?.textContent || '';
      navigator.clipboard.writeText(text).then(()=> {
        if(window.Toastify){ Toastify({ text: '已复制：' + text, duration: 1500 }).showToast(); }
        else alert('已复制：' + text);
      });
    }
    window.copyText = copyText;
  </script>
<!-- 移动端底部浮窗 CTA -->
<a aria-label="¥188 立即购买" class="cta-sticky" href="https://yf.dtyuedan.cn//details/EEF5AE91" role="button" target="_blank">¥188 立即购买</a>
<script>
    const openFlow = document.getElementById('openFlow');
    const flowMask = document.getElementById('flowMask');
    const closeFlow = document.getElementById('closeFlow');
    openFlow?.addEventListener('click', (e)=>{ e.preventDefault(); flowMask?.classList.add('show'); flowMask?.setAttribute('aria-hidden','false'); });
    closeFlow?.addEventListener('click', ()=>{ flowMask?.classList.remove('show'); flowMask?.setAttribute('aria-hidden','true'); });
    flowMask?.addEventListener('click', (e)=>{ if(e.target===flowMask){ flowMask.classList.remove('show'); flowMask.setAttribute('aria-hidden','true'); }});
    
    
    
    // 充值流程弹窗中的QQ折叠展开功能
    const flowQqToggle = document.getElementById('flowQqToggle');
    const flowQqContent = document.getElementById('flowQqContent');
    flowQqToggle?.addEventListener('click', ()=> {
      const isHidden = flowQqContent.style.display === 'none';
      flowQqContent.style.display = isHidden ? 'block' : 'none';
      flowQqToggle.textContent = isHidden ? '收起QQ联系方式' : '微信联系不上时，请联系QQ';
    });
  </script>
<div class="sticky-note" id="bottomNote">
<span class="note-text">📌 当前价 <strong>¥188</strong> ｜ <strong>加微信立减 ¥8</strong> ｜ 客服微信：<strong id="wxid">mmzi0723</strong></span>
  <button class="cta-mini" id="copyWeChat">复制微信</button>
  <button class="cta-outline" id="openWhyFooter">为什么不是更便宜</button>
  <a data-open="rechargeGuide" style="opacity:.75;text-decoration:underline;margin-left:.5rem;">
    已购买·去激活
  </a>
</div>
<script>
// 复制微信 + 弹窗逻辑
(function(){
  function copy(text){
    if(navigator.clipboard && navigator.clipboard.writeText){
      return navigator.clipboard.writeText(text);
    } else {
      alert('微信号：'+text+'\n请长按复制');
      return Promise.resolve();
    }
  }
  var wx = (document.getElementById('wxid') && document.getElementById('wxid').textContent) || 'mmzi0723';
  var b1 = document.getElementById('copyWeChat');
  var b2 = document.getElementById('modalCopyWeChat');
  if(b1){ b1.addEventListener('click', function(){ copy(wx).then(function(){ b1.textContent='已复制'; setTimeout(function(){ b1.textContent='复制微信'; },1600) }) }); }
  if(b2){ b2.addEventListener('click', function(){ copy(wx).then(function(){ b2.textContent='已复制'; setTimeout(function(){ b2.textContent='复制微信：'+wx; },1600) }) }); }
  var openBtn = document.getElementById('openPriceModal');
  var modal = document.getElementById('priceModal');
  var closeBtn = document.getElementById('closePriceModal');
  if(openBtn && modal){
    openBtn.addEventListener('click', function(){ modal.classList.add('show'); modal.setAttribute('aria-hidden','false'); });
  }
  if(closeBtn && modal){
    closeBtn.addEventListener('click', function(){ modal.classList.remove('show'); modal.setAttribute('aria-hidden','true'); });
    modal.addEventListener('click', function(e){ if(e.target===modal){ modal.classList.remove('show'); modal.setAttribute('aria-hidden','true'); } });
  }
})();</script>

<script>
(function(){
  function $(s){ return document.querySelector(s); }
  function $all(s){ return Array.prototype.slice.call(document.querySelectorAll(s)); }
  var body = document.body;
  var helpMask = $('#helpModal');
  var helpCard = helpMask ? helpMask.querySelector('.help-card') : null;
  var helpClose = $('#helpClose');
  var tabs = $all('.help-tabs .tab');
  var panels = $all('.help-panels .panel');
  var lastFocus = null;

  function setTab(name){
    tabs.forEach(function(t){
      var active = t.getAttribute('data-tab') === name;
      t.classList.toggle('active', active);
      t.setAttribute('aria-selected', active ? 'true' : 'false');
    });
    panels.forEach(function(p){
      var show = p.getAttribute('data-panel') === name;
      p.classList.toggle('active', show);
      p.setAttribute('aria-hidden', show ? 'false' : 'true');
    });
    try { localStorage.setItem('help_tab', name); } catch(e){}
  }

  function openHelp(defaultTab){
    lastFocus = document.activeElement;
    var saved = null; try { saved = localStorage.getItem('help_tab'); } catch(e){}
    var tab = defaultTab || saved || 'flow';
    setTab(tab);
    helpMask.classList.add('show');
    helpMask.setAttribute('aria-hidden','false');
    body.classList.add('modal-open');
    (helpCard || helpMask).focus({preventScroll:true});
  }

  function closeHelp(){
    helpMask.classList.remove('show');
    helpMask.setAttribute('aria-hidden','true');
    body.classList.remove('modal-open');
    if(lastFocus && typeof lastFocus.focus === 'function'){ lastFocus.focus(); }
  }

  // Tab click
  tabs.forEach(function(t){ t.addEventListener('click', function(){ setTab(t.getAttribute('data-tab')); }); });

  // Triggers
  var openTop = $('#openHelpModal');
  var openBottom = $('#openHelpModalBottom');
  if(openTop){ openTop.addEventListener('click', function(e){ e.preventDefault(); openHelp('flow'); }); }
  if(openBottom){ openBottom.addEventListener('click', function(){ openHelp('flow'); }); }


  // Close mechanics
  if(helpClose) helpClose.addEventListener('click', closeHelp);
  if(helpMask) helpMask.addEventListener('click', function(e){ if(e.target===helpMask) closeHelp(); });
  document.addEventListener('keydown', function(e){ if(e.key==='Escape' && helpMask.classList.contains('show')) closeHelp(); });

  // Copy WeChat buttons (bottom bar + help panel)
  function isMobile(){ return /Android|iPhone|iPad|iPod|Mobile/i.test(navigator.userAgent); }
  function copy(text){
    if(navigator.clipboard && navigator.clipboard.writeText){
      return navigator.clipboard.writeText(text);
    } else { alert('微信号：'+text+'\\n请手动复制'); return Promise.resolve(); }
  }
  var wechat = (document.getElementById('wxid') && document.getElementById('wxid').textContent) || (document.getElementById('helpWx') && document.getElementById('helpWx').textContent) || 'mmzi0723';
  var copyBtns = [ document.getElementById('copyWeChat'), document.getElementById('copyWeChatHelp') ].filter(Boolean);
  copyBtns.forEach(function(btn){
    btn.addEventListener('click', function(){
      var text = btn.textContent;
      copy(wechat).then(function(){
        btn.textContent = '已复制';
        setTimeout(function(){ btn.textContent = text; }, 1600);
        if(isMobile()){ setTimeout(function(){ try{ window.location.href='weixin://'; }catch(e){} }, 300); }
      });
    });
  });

  // Expose for debug
  window.helpCenter = { open: openHelp, close: closeHelp, setTab: setTab };
})();
</script>
<!-- 统一弹窗：为什么不是更便宜 -->
<div class="modal-mask" id="whyModal" aria-hidden="true">
  <div class="modal-card" role="dialog" aria-labelledby="whyTitle" tabindex="-1">
    <button class="modal-close" id="whyClose" aria-label="关闭">×</button>
    <h3 id="whyTitle" style="margin:.2rem 0 1rem">为什么不是更便宜</h3>

    <nav class="help-tabs" role="tablist" aria-label="为什么不是更便宜">
      <button role="tab" id="tabbtn-price" class="tab-btn active" data-tab="price" aria-selected="true" aria-controls="tab-price">价格构成</button>
      <button role="tab" id="tabbtn-flow" class="tab-btn" data-tab="flow" aria-selected="false" aria-controls="tab-flow">充值流程</button>
      <button role="tab" id="tabbtn-support" class="tab-btn" data-tab="support" aria-selected="false" aria-controls="tab-support">客服微信</button>
    </nav>

    <section id="tab-price" class="tab-panel active" role="tabpanel" aria-labelledby="tabbtn-price">
      <p>官方订阅价 <strong>19.99 美元</strong>（或等值货币）。</p>
      <ul>
        <li>🍎 苹果通道与支付手续费</li>
        <li>🔒 账号维护与风控成本（避免黑卡、降低封号风险）</li>
        <li>👩‍💻 人工客服与售后保障</li>
      </ul>
      <p>综合以上成本，本站价格为 <strong>¥188</strong>。若整体成本上涨，价格可能相应调整。</p>
      <a class="open-proof-link" id="openOfficialProof">查看官方通知 / 展开说明</a>
      <div class="modal-footer">
        <a href="#" class="cta-outline" id="modalBuyP">去购买</a>
        <button class="cta-mini" id="modalCopyWxP">复制微信：<span class="wx">mmzi0723</span></button>
      </div>
    </section>

    <section id="tab-flow" class="tab-panel" role="tabpanel" aria-labelledby="tabbtn-flow" hidden>
      <ul class="flow-steps">
        <li>① 下单获取卡密</li>
        <li>② 获取账号充值信息（无需提供账号密码）</li>
        <li>③ 约 5 分钟到账</li>
      </ul>
      <p class="hint">提示：若遇到账延迟，请先勿重复下单，联系人工处理。</p>
      <div class="modal-footer">
        <a href="#" class="cta-outline" id="modalBuyF">去购买</a>
        <button class="cta-mini" id="modalCopyWxF">复制微信：<span class="wx">mmzi0723</span></button>
      </div>
    </section>

    <section id="tab-support" class="tab-panel" role="tabpanel" aria-labelledby="tabbtn-support" hidden>
      <p>微信：<strong class="wx">mmzi0723</strong></p>
      <p class="hint">人工在线：9:00–24:00（其他时段尽量回复）</p>
      <div class="modal-footer">
        <a href="#" class="cta-outline" id="modalBuyS">去购买</a>
        <button class="cta-mini" id="modalCopyWxS">复制微信：<span class="wx">mmzi0723</span></button>
      </div>
    </section>
  </div>
</div>

<!-- 充值网站指引（不依赖外部接口） -->
<div class="rg-mask" id="rechargeGuide" aria-hidden="true">
  <div class="rg-card" role="dialog" aria-labelledby="rgTitle" tabindex="-1">
    <button class="rg-close" id="rgClose" aria-label="关闭">×</button>
    <h3 class="rg-title" id="rgTitle">充值网站指引</h3>

    <div class="rg-body">
      <p>已在发卡网完成购买并获得卡密后，请前往充值网站填写卡密，完成激活。</p>
      <p class="rg-hint">通常约 <strong>5 分钟</strong>到账；如遇延迟，请先勿重复下单，加微信处理。</p>

      <div class="rg-actions">
        <button class="rg-btn rg-btn-primary" id="rgOpen">打开充值网站</button>
      </div>
    </div>
  </div>
</div>

<!-- 官方价格通知 & 合规说明（完整版） -->
<div class="proof-mask" id="officialProof" aria-hidden="true">
  <div class="proof-card" role="dialog" aria-labelledby="proofTitle" tabindex="-1">
    <button class="proof-close" id="proofClose" aria-label="关闭">×</button>
    <h3 class="proof-title" id="proofTitle">官方价格通知 & 合规说明</h3>

    <!-- 官方价格通知（摘要） -->
    <section class="proof-sec" id="proof-official">
      <h4>官方价格通知（摘要）</h4>
      <ul class="proof-list">
        <li>官方订阅价 <strong>19.99 美元/月</strong>（自 <strong>2025-09-16</strong> 起分批执行）。</li>
        <li>本站走 <strong>苹果官方通道</strong>，价格含 <strong>通道费 / 风控 / 售后</strong>。</li>
      </ul>
      <p>→ <strong>定价 ¥188</strong>（如整体成本上调，将同步调整）。</p>

      <div class="proof-actions">
        <button class="proof-btn proof-btn-ghost" id="toggleProofImg">查看官方通知截图</button>
      </div>

      <!-- 截图悬浮窗 -->
      <div class="proof-imgwrap" id="proofImgWrap">
        <button class="img-close" id="imgClose" aria-label="关闭图片">×</button>
        <img class="proof-img" id="proofImg" src="gpt 图片.png" alt="官方价格通知截图">
      </div>
    </section>

    <!-- 关于"低汇率国家"的说明 -->
    <section class="proof-sec" id="proof-forex">
      <h4>关于"低汇率国家"的说明</h4>
      <ul class="proof-list">
        <li>低价多为 <strong>跨区礼品卡/黑卡</strong>，<strong>不稳定、风险高</strong>。</li>
        <li>易回滚/拒付，易触发风控，售后不可控。</li>
      </ul>
      <p class="proof-hint">目前没有 <strong>长期可复用</strong> 的低汇率方案；我们仅提供 <strong>官方通道</strong>，含 <strong>售后与风险处置</strong>。</p>
    </section>

    <!-- 结尾 CTA -->
    <section class="proof-sec">
      <div class="proof-actions">
        <button class="proof-btn proof-btn-ghost" id="proofCopyWx">复制微信：<span class="wx">mmzi0723</span></button>
        <a class="proof-btn proof-btn-primary" id="proofGoBuy" href="#" rel="noopener">去购买</a>
      </div>
    </section>
  </div>
</div>

<script>
(function(){
  function $(s){ return document.querySelector(s); }
  function $all(s){ return Array.prototype.slice.call(document.querySelectorAll(s)); }
  function lockScroll(on){ document.body.classList[on?'add':'remove']('modal-open'); }
  function isMobile(){ return /Android|iPhone|iPad|iPod|Mobile/i.test(navigator.userAgent); }
  function copyText(t){
    if(navigator.clipboard && navigator.clipboard.writeText){ return navigator.clipboard.writeText(t); }
    alert('微信号：'+t+'\\n请手动复制'); return Promise.resolve();
  }

  var modal = $('#whyModal');
  var card  = modal ? modal.querySelector('.modal-card') : null;
  var closeBtn = $('#whyClose');
  var tabBtns = $all('.help-tabs .tab-btn');
  var panels = { price: $('#tab-price'), flow: $('#tab-flow'), support: $('#tab-support') };
  var wxEl = $('#wxid'); var wx = wxEl ? (wxEl.textContent || 'mmzi0723') : 'mmzi0723';
  var lastFocus = null;
  var FOCUSABLE = 'a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])';

  function setTab(tab){
    if(!panels[tab]) tab = 'price';
    tabBtns.forEach(function(b){ var on=b.dataset.tab===tab; b.classList.toggle('active', on); b.setAttribute('aria-selected', on?'true':'false'); });
    Object.keys(panels).forEach(function(k){
      if(k===tab){ panels[k].classList.add('active'); panels[k].removeAttribute('hidden'); }
      else{ panels[k].classList.remove('active'); panels[k].setAttribute('hidden',''); }
    });
    localStorage.setItem('why_tab', tab);
  }
  function openWhy(defaultTab){
    var tab = defaultTab || localStorage.getItem('why_tab') || 'price';
    setTab(tab);
    lastFocus = document.activeElement;
    modal.classList.add('show'); modal.setAttribute('aria-hidden','false');
    lockScroll(true);
    (card||modal).focus({preventScroll:true});
  }
  function closeWhy(){
    modal.classList.remove('show'); modal.setAttribute('aria-hidden','true');
    lockScroll(false);
    if(lastFocus && typeof lastFocus.focus==='function'){ lastFocus.focus(); }
  }
  function trapFocus(e){
    if(!modal.classList.contains('show') || e.key!=='Tab') return;
    var f = modal.querySelectorAll(FOCUSABLE); if(!f.length) return;
    var first=f[0], last=f[f.length-1];
    if(e.shiftKey){ if(document.activeElement===first){ last.focus(); e.preventDefault(); } }
    else{ if(document.activeElement===last){ first.focus(); e.preventDefault(); } }
  }

  // 页签点击 & 左右方向键切换
  tabBtns.forEach(function(btn, idx){
    btn.addEventListener('click', function(){ setTab(btn.dataset.tab); });
    btn.addEventListener('keydown', function(e){
      if(e.key==='ArrowRight' || e.key==='ArrowLeft'){
        var i = idx + (e.key==='ArrowRight'?1:-1);
        if(i<0) i=tabBtns.length-1; if(i>=tabBtns.length) i=0;
        var next=tabBtns[i]; next.focus(); setTab(next.dataset.tab); e.preventDefault();
      }
    });
  });

  // 入口：顶部小链接 → 默认"流程"；底部按钮 → 默认"价格"
  var openTop = $('#openWhyTop');
  var openBottom = $('#openWhyFooter');
  if(openTop)    openTop.addEventListener('click', function(e){ e.preventDefault(); openWhy('flow'); });
  if(openBottom) openBottom.addEventListener('click', function(e){ e.preventDefault(); openWhy('price'); });

  // 将旧入口映射到新弹窗（兜底）
  var map = { openPriceModal:'price', openFlowModal:'flow', openSupportModal:'support', openPolicy:'price', openWhy:'price', openFlow:'flow' };
  Object.keys(map).forEach(function(id){ var el=document.getElementById(id); if(el){ el.addEventListener('click', function(e){ e.preventDefault(); openWhy(map[id]); }); } });

  // 关闭 & 可访问性
  if(closeBtn) closeBtn.addEventListener('click', closeWhy);
  if(modal) modal.addEventListener('click', function(e){ if(e.target===modal) closeWhy(); });
  document.addEventListener('keydown', function(e){ if(e.key==='Escape' && modal.classList.contains('show')) closeWhy(); trapFocus(e); });

  // 复制微信（底部 + 弹窗）
  function bindCopy(id){
    var btn=document.getElementById(id); if(!btn) return;
    btn.addEventListener('click', function(){
      copyText(wx).then(function(){
        var old=btn.textContent; btn.textContent='已复制，去微信添加';
        setTimeout(function(){ btn.textContent=old; },1600);
        if(isMobile()){ setTimeout(function(){ try{ location.href='weixin://'; }catch(e){} }, 300); }
      });
    });
  }
  bindCopy('copyWeChat'); bindCopy('modalCopyWxP'); bindCopy('modalCopyWxF'); bindCopy('modalCopyWxS');

  // 为三个页签的"去购买卡密"按钮添加跳转逻辑
  var modalBuyP = document.getElementById('modalBuyP'); // 价格构成页签
  var modalBuyF = document.getElementById('modalBuyF'); // 充值流程页签
  var modalBuyS = document.getElementById('modalBuyS'); // 客服微信页签
  
  var buyUrl = 'https://yf.dtyuedan.cn//details/EEF5AE91'; // 与立即购买按钮相同的链接
  
  if(modalBuyP){
    modalBuyP.addEventListener('click', function(e){
      e.preventDefault();
      window.open(buyUrl, '_blank', 'noopener');
    });
  }
  
  if(modalBuyF){
    modalBuyF.addEventListener('click', function(e){
      e.preventDefault();
      window.open(buyUrl, '_blank', 'noopener');
    });
  }
  
  if(modalBuyS){
    modalBuyS.addEventListener('click', function(e){
      e.preventDefault();
      window.open(buyUrl, '_blank', 'noopener');
    });
  }


  // 导出以便调试
  window.openWhy = openWhy;
})();
</script>

<script>
(function(){
  // 常量：充值网址（可按需改）
  var RG_URL = (["https://","chongzhi",".","pro"].join(""));

  // 工具
  function $(s){ return document.querySelector(s); }
  function copyText(t){
    if(navigator.clipboard && navigator.clipboard.writeText){ return navigator.clipboard.writeText(t); }
    var ta = document.createElement('textarea'); ta.value=t; document.body.appendChild(ta); ta.select();
    try{ document.execCommand('copy'); }catch(e){}
    document.body.removeChild(ta); return Promise.resolve();
  }
  function lockScroll(on){ document.body.classList[on?'add':'remove']('modal-open'); } // 不改变你站点样式，仅控制滚动

  // 元素
  var modal = $('#rechargeGuide');
  var card  = modal ? modal.querySelector('.rg-card') : null;
  var closeBtn = $('#rgClose');
  var btnOpen  = $('#rgOpen');
  var lastFocus = null;

  // 打开/关闭
  function openRechargeGuide(){
    lastFocus = document.activeElement;
    modal.classList.add('show'); modal.setAttribute('aria-hidden','false');
    lockScroll(true);
    (card||modal).focus({preventScroll:true});
  }
  function closeRechargeGuide(){
    modal.classList.remove('show'); modal.setAttribute('aria-hidden','true');
    lockScroll(false);
    if(lastFocus && typeof lastFocus.focus==='function'){ try{ lastFocus.focus(); }catch(e){} }
  }

  // 事件
  if(closeBtn) closeBtn.addEventListener('click', closeRechargeGuide);
  if(modal) modal.addEventListener('click', function(e){ if(e.target===modal) closeRechargeGuide(); });
  document.addEventListener('keydown', function(e){ if(e.key==='Escape' && modal.classList.contains('show')) closeRechargeGuide(); });

  if(btnOpen){
    btnOpen.addEventListener('click', function(){
      window.open(RG_URL, '_blank', 'noopener');
    });
  }

  // 暴露全局函数，供你在现有按钮/链接上直接调用
  window.openRechargeGuide = openRechargeGuide;

  // （可选兜底）如果页面上本来就有某个元素想触发，可给它加 data-open="rechargeGuide"
  var autoTriggers = document.querySelectorAll('[data-open="rechargeGuide"]');
  autoTriggers.forEach(function(el){ el.addEventListener('click', function(e){ e.preventDefault(); openRechargeGuide(); }); });
})();
</script>

<script>
(function(){
  function $(s){ return document.querySelector(s); }
  function copyText(t){
    if(navigator.clipboard && navigator.clipboard.writeText){ return navigator.clipboard.writeText(t); }
    var ta=document.createElement('textarea'); ta.value=t; document.body.appendChild(ta); ta.select();
    try{ document.execCommand('copy'); }catch(e){} document.body.removeChild(ta); return Promise.resolve();
  }
  function lockScroll(on){ document.body.classList[on?'add':'remove']('modal-open'); }

  // 入口：价格构成页签里的 "查看官方通知 / 展开说明"
  var openBtn = $('#openOfficialProof');
  var modal   = $('#officialProof');
  var card    = modal ? modal.querySelector('.proof-card') : null;
  var closeBtn= $('#proofClose');
  var imgWrap = $('#proofImgWrap');
  var img     = $('#proofImg');
  var toggleImg = $('#toggleProofImg');
  var copyWx  = $('#proofCopyWx');
  var goBuy   = $('#proofGoBuy');
  var lastFocus = null;

  // 请在此设置你的购买链接（使用与立即购买相同的链接）：
  var BUY_URL = 'https://yf.dtyuedan.cn//details/EEF5AE91'; // 与立即购买按钮相同的链接
  if(goBuy){ 
    goBuy.addEventListener('click', function(e){
      e.preventDefault();
      window.open(BUY_URL, '_blank', 'noopener');
    });
  }

  // 若页面已有微信号节点 #wxid，则读取；否则用按钮里的文本
  var wxNode = document.getElementById('wxid');
  var WX = (wxNode && (wxNode.textContent||'').trim()) || (copyWx ? (copyWx.textContent.match(/[\w-]+$/)||['mmzi0723'])[0] : 'mmzi0723');

  function openProof(){
    lastFocus = document.activeElement;
    modal.classList.add('show'); modal.setAttribute('aria-hidden','false');
    lockScroll(true); (card||modal).focus({preventScroll:true});
  }
  function closeProof(){
    modal.classList.remove('show'); modal.setAttribute('aria-hidden','true');
    lockScroll(false);
    if(lastFocus && typeof lastFocus.focus==='function'){ try{ lastFocus.focus(); }catch(e){} }
  }

  if(openBtn){ openBtn.addEventListener('click', function(e){ e.preventDefault(); openProof(); }); }
  if(closeBtn){ closeBtn.addEventListener('click', closeProof); }
  if(modal){ modal.addEventListener('click', function(e){ if(e.target===modal) closeProof(); }); }
  document.addEventListener('keydown', function(e){ if(e.key==='Escape' && modal.classList.contains('show')) closeProof(); });

  // 查看/收起截图
  if(toggleImg){
    toggleImg.addEventListener('click', function(){
      if(imgWrap){ imgWrap.classList.toggle('show'); }
    });
  }
  
  // 点击截图外部区域关闭悬浮窗
  if(imgWrap){
    imgWrap.addEventListener('click', function(e){
      if(e.target === imgWrap){
        imgWrap.classList.remove('show');
      }
    });
  }
  
  // 图片关闭按钮（移动端显示）
  var imgCloseBtn = document.getElementById('imgClose');
  if(imgCloseBtn){
    imgCloseBtn.addEventListener('click', function(e){
      e.stopPropagation(); // 阻止事件冒泡
      imgWrap.classList.remove('show');
    });
  }

  // 复制微信
  if(copyWx){
    copyWx.addEventListener('click', function(){
      copyText(WX).then(function(){
        var old = copyWx.textContent;
        copyWx.textContent = '已复制，去微信添加';
        setTimeout(function(){ copyWx.textContent = old; }, 1600);
        // 移动端尝试拉起微信
        try{ if(/Android|iPhone|iPad|iPod|Mobile/i.test(navigator.userAgent)){ setTimeout(function(){ location.href='weixin://'; }, 300); } }catch(_){}
      });
    });
  }

  // 导出函数（如需在别处触发）
  window.openOfficialProof = openProof;
})();
</script></body>
</html>